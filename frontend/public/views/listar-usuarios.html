<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Usuarios</title>
    <link rel="stylesheet" href="/frontend/public/css/components/tabla-unificada.css">
    <link rel="stylesheet" href="/frontend/public/css/pages/listaru.css">
    <link rel="stylesheet" href="/frontend/public/css/components/modal.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="/frontend/JS/sidebar.js" defer></script>
    
</head>
<body>
    <div class="header">
        <div class="header__left-section">
            <span class="header__menu-item">Usuarios</span>
            <span class="header__menu-separator">/</span>
            <span class="header__menu-item">Lista de Usuarios</span>
            <span class="header__menu-separator">-</span>
            <span class="header__menu-item">Cantidad de Usuarios: 34</span>
        </div>
        <div class="header__right-section">
            <input type="text" class="header__search-bar" placeholder="Buscar">
            <span class="header__icon"><i class='bx bx-message-square-add' id="add" title="Agregar"></i></span>
            <span class="header__icon"><i class='bx bxs-download' id="descarga" title="Descargar Informe"></i></span>
            <span class="header__icon"><box-icon name='bell' type='solid'></box-icon></span>
            <span class="header__icon"><box-icon name='bell'></box-icon></span>
        </div>
    </div>
    <main>
        <!-- Aquí va la SIDEBAR -->
        <div class="sidebar"> </div>
        <section class="content">
            <table class="content__table">
                <thead class="content__table-head">
                    <tr class="content__table-row">
                    <th class="content__table-header">Tipo</th>
                    <th class="content__table-header">Identificador</th>
                    <th class="content__table-header">Rol</th>
                    <th class="content__table-header">Estado</th>
                    <th class="content__table-header">Acciones</th>
                    </tr>
                </thead>
                <tbody class="content__table-body">
                    <tr class="content__table-row">
                    <td class="content__table-data">Luciano Anal</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Personal de Apoyo</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span class="content__status-enabled"></span>&nbsp; Deshabilitado:&nbsp;<span></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                            <div  class="content__icon content__icon--blue" title="Editar">
                                <i class='bx bxs-edit edit-button'></i>
                            </div>

                            <div class="content__icon content__icon--red" title="Eliminar">
                                <i class='bx bxs-trash'></i>
                            </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">Elver Gonzio</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Personal de Apoyo</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span class="content__status-enabled"></span>&nbsp; Deshabilitado:&nbsp;<span></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">Leslie Caracas</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Administrador</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span class="content__status-enabled"></span>&nbsp; Deshabilitado:&nbsp;<span></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">Camilo Parra</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Personal de Apoyo</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span></span>&nbsp; Deshabilitado: &nbsp;<span class="status-disabled"></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">Keyshia Subiria</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Visitante</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span></span>&nbsp; Deshabilitado: &nbsp;<span class="status-disabled"></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">Brayan Perro Guzman</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Personal de Apoyo</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span></span>&nbsp; Deshabilitado: &nbsp;<span class="status-disabled"></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">Santiago Cachon L</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Visitante</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span class="content__status-enabled"></span>&nbsp; Deshabilitado:&nbsp;<span></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">Ana Zorria Riaño</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Personal de Apoyo</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span class="content__status-enabled"></span>&nbsp; Deshabilitado:&nbsp;<span></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">Justin Bieber</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Personal de Apoyo</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span class="content__status-enabled"></span>&nbsp; Deshabilitado:&nbsp;<span></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">JH Tyson 777</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Personal de Apoyo</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span></span>&nbsp; Deshabilitado: &nbsp;<span class="status-disabled"></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">Papa Francisco</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Administrador</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span class="content__status-enabled"></span>&nbsp; Deshabilitado:&nbsp;<span></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                    <tr class="content__table-row">
                    <td class="content__table-data">Edward Follone</td>
                    <td class="content__table-data">USR76286</td>
                    <td class="content__table-data">Administrador</td>
                    <td class="content__table-data content__table-data--status">Habilitado: &nbsp;<span class="content__status-enabled"></span>&nbsp; Deshabilitado:&nbsp;<span></span></td>
                    <td class="content__table-data">
                        <div class="content__icon-container">
                        <div class="content__icon content__icon--blue" title="Editar">
                            <i class='bx bxs-edit edit-button'></i>
                        </div>
                        <div class="content__icon content__icon--red" title="Eliminar">
                            <i class='bx bxs-trash'></i>
                        </div>
                        </div>
                    </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>

        <!-- Modal para Agregar Usuario -->
    <div id="addUsuarioModal" class="modal-container">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Agregar Usuario</h2>
                <span class="close-button">&times;</span>
            </div>
            <div class="modal-body">
                <form id="addUsuarioForm">
                    <div class="form-group">
                        <label for="addNombre">Nombre:</label>
                        <input type="text" id="addNombre" required>
                    </div>
                    <div class="form-group">
                        <label for="addTipoDocumento">Tipo de documento:</label>
                        <select id="addTipoDocumento" required>
                            <option value="CC">Cédula de Ciudadanía</option>
                            <option value="TI">Tarjeta de identidad</option>
                            <option value="CE">Cédula de extranjería</option>
                            <option value="PEP">PEP</option>
                            <option value="PPT">Permiso Por Protección Temporal</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="addNumeroDocumento">Numero de documento:</label>
                        <input type="text" id="addNumeroDocumento" required>
                    </div>
                    <div class="form-group form-group--double">
                        <div>
                            <label for="addCorreo">Correo:</label>
                            <input type="email" id="addCorreo" required>
                        </div>
                        <div>
                            <label for="addContraseña">Contraseña:</label>
                            <input type="password" id="addContraseña" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="addRol">Rol:</label>
                        <select id="addRol" required>
                            <option value="Administrador">Administrador</option>
                            <option value="Personal de Apoyo">Personal de Apoyo</option>
                            <option value="Visitante">Visitante</option>
                            <option value="Usuario">Usuario</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="addEstado">Estado:</label>
                        <select id="addEstado">
                            <option value="habilitado">Habilitado</option>
                            <option value="deshabilitado">Deshabilitado</option>
                        </select>
                    </div>
                    <div class="form-buttons">
                        <button type="submit" class="btn-primary">Agregar Usuario</button>
                        <button type="button" class="btn-secondary close-button">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

        <!-- Modal de Edición -->
    <div id="editUsuarioModal" class="modal-container">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Editar Usuario</h2>
                <span class="close-button">&times;</span>
            </div>
            <div class="modal-body">
                <form id="editUsuarioForm">
                    <div class="form-group">
                        <label for="editNombre">Nombre:</label>
                        <input type="text" id="editNombre" required>
                    </div>
                    <div class="form-group">
                        <label for="editRol">Rol:</label>
                        <select id="editRol" required>
                            <option value="Administrador">Administrador</option>
                            <option value="Personal de Apoyo">Personal de Apoyo</option>
                            <option value="Visitante">Visitante</option>
                            <option value="Usuario">Usuario</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="editEstado">Estado:</label>
                        <select id="editEstado">
                            <option value="habilitado">Habilitado</option>
                            <option value="deshabilitado">Deshabilitado</option>
                        </select>
                    </div>
                    <div class="form-buttons">
                        <button type="submit" class="btn-primary">Guardar Cambios</button>
                        <button type="button" class="btn-secondary close-button">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const addUsuarioModal = document.getElementById('addUsuarioModal');
            const editUsuarioModal = document.getElementById('editUsuarioModal');

            const addButton = document.getElementById('add');
            const editButtons = document.querySelectorAll('.edit-button');

            // Función para abrir un modal
            const openModal = (modal) => modal.classList.add('active');

            // Función para cerrar un modal
            const closeModal = (modal) => modal.classList.remove('active');

            // Abrir modal de "Agregar"
            if (addButton) {
                addButton.addEventListener('click', () => openModal(addUsuarioModal));
            }

            // Abrir modal de "Editar"
            editButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Aquí se puede añadir la lógica para cargar los datos del usuario en el formulario
                    openModal(editUsuarioModal);
                });
            });

            // Cerrar modales con sus botones de cierre o haciendo clic en el fondo
            [addUsuarioModal, editUsuarioModal].forEach(modal => {
                if (modal) {
                    const closeButtons = modal.querySelectorAll('.close-button');
                    closeButtons.forEach(button => {
                        button.addEventListener('click', () => closeModal(modal));
                    });

                    modal.addEventListener('click', (event) => {
                        if (event.target === modal) {
                            closeModal(modal);
                        }
                    });
                }
            });

            // Lógica de redirección existente
            const descargaButton = document.getElementById("descarga");
            if (descargaButton) {
                descargaButton.onclick = function () {
                    window.location.href = "informe_usuarios.html";
                };
            }
        });
    </script>
</body>
</html>