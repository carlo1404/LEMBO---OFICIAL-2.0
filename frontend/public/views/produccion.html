<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestión de Producciones Agrícolas</title>
  <!-- Estilos principales -->
  <link rel="stylesheet" href="/frontend/public/css/pages/Normalize.css">
  <link rel="stylesheet" href="/frontend/public/css/pages/produccion.css">
  <link rel="stylesheet" href="/frontend/public/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>

<body>
  <aside class="sidebar"></aside>
  <div class="produccion">
    <header class="produccion__header">
      <h1 class="produccion__title">Gestión de Producciones Agrícolas</h1>
      <div class="produccion__actions">
        <button id="crearProduccionBtn" class="produccion__button produccion__button--primary">
          <i class="fas fa-plus"></i> Crear Producción
        </button>
      </div>
    </header>

    <nav class="produccion__tabs">
      <button data-tab="listar" class="produccion__tab produccion__tab--active">Listar</button>
      <button data-tab="estado" class="produccion__tab">Estado</button>
      <button data-tab="reportes" class="produccion__tab">Reportes</button>
    </nav>

    <main class="produccion__content">
      <section id="listar" class="produccion__section produccion__section--active">
        <table class="produccion__table">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>Cultivo</th>
              <th>Insumos</th>
              <th>Responsable</th>
              <th>Fecha de Inicio</th>
              <th>Fecha de Fin</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="produccionesTableBody"></tbody>
        </table>
      </section>

      <section id="estado" class="produccion__section">
        <p>Habilitar/Deshabilitar</p>
      </section>

      <section id="reportes" class="produccion__section">
        <p>Generar Reportes</p>
      </section>
    </main>
  </div>

  <!-- Modal Crear Producción -->
  <div id="modalCrearProduccion" class="modal">
    <div class="modal__content">
      <button class="modal__close">&times;</button>
      <h2>Crear Producción</h2>
      <form id="crearProduccionForm" class="modal-form">
        <div class="form-group">
          <label for="produccionId">ID Producción</label>
          <input id="produccionId" disabled>
        </div>
        <div class="form-group inline-group">
          <label for="responsable">Responsable</label>
          <select id="responsable"></select>
          <button type="button" id="agregarResponsableBtn" class="btn-small"><i class="fas fa-plus"></i></button>
        </div>
        <div class="form-group">
          <label for="nombreProduccion">Nombre de Producción</label>
          <input id="nombreProduccion" placeholder="Ingrese un nombre">
          <span id="nombreError" class="error-message"></span>
        </div>
        <div class="form-group inline-group">
          <label for="cultivo">Cultivo</label>
          <select id="cultivo"></select>
          <button type="button" id="agregarCultivoBtn" class="btn-small"><i class="fas fa-plus"></i></button>
        </div>
        <div class="form-group inline-group">
          <label for="cicloCultivo">Ciclo</label>
          <select id="cicloCultivo"></select>
          <button type="button" id="agregarCicloBtn" class="btn-small"><i class="fas fa-plus"></i></button>
        </div>
        <div class="form-group inline-group">
          <label for="sensores">Sensores (máx 3)</label>
          <select id="sensores" multiple size="3"></select>
          <button type="button" id="agregarSensorBtn" class="btn-small"><i class="fas fa-plus"></i></button>
          <span id="sensoresError" class="error-message"></span>
        </div>
        <div class="form-group inline-group">
          <label for="insumos">Insumos</label>
          <select id="insumos" multiple size="3"></select>
          <button type="button" id="agregarInsumoBtn" class="btn-small"><i class="fas fa-plus"></i></button>
        </div>
        <div class="form-group">
          <label for="fechaInicio">Fecha Inicio</label>
          <input id="fechaInicio" type="text" placeholder="DD/MM/YYYY">
        </div>
        <div class="form-group">
          <label for="fechaFin">Fecha Fin</label>
          <input id="fechaFin" type="text" placeholder="DD/MM/YYYY">
        </div>
        <div class="form-group">
          <label>Inversión</label>
          <span id="inversionEstimada" class="form-value">$0</span>
        </div>
        <div class="form-group">
          <label>Meta</label>
          <span id="metaEstimada" class="form-value">$0</span>
        </div>

        <div class="modal__actions">
          <button type="button" id="guardarBorrador" class="produccion__button produccion__button--secondary">
            Guardar Borrador
          </button>
          <button type="button" id="crearProduccion" class="produccion__button produccion__button--primary" disabled>
            Crear Producción
          </button>
        </div>
      </form>
    </div>
  </div>
  <div class="stats-sidebar">
    <div class="chart-container">
        <h3 class="chart-title">Temperatura (°C) - Últimas 24 horas</h3>
        <canvas id="tempChart"></canvas>
    </div>
    
    <div class="chart-container">
        <h3 class="chart-title">Velocidad del Viento (km/h) - Últimas 24 horas</h3>
        <canvas id="windChart"></canvas>
    </div>
    
    <div class="chart-container">
        <h3 class="chart-title">Intensidad Lumínica (lux) - Últimas 24 horas</h3>
        <canvas id="lightChart"></canvas>
    </div>
</div>
  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/frontend/JS/sidebar.js"></script>
  <script src="/frontend/JS/produccionForm.js"></script>
  <script src="/frontend/JS/statsSidebarInit.js"></script>
</body>

</html>
